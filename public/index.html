<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <title>my-fantasy</title>
  </head>
  <body>
    <noscript>
      <strong>We're sorry but my-fantasy doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>

    <div id="app1">
      <div class="container">
        <div class="page-header">
          <!-- Team selection -->
          <h4>Who are you?</h4>
          <select v-model="selectedTeam">
            <option v-for="team in ffteams" v-bind:value="team.team_name">{{team.name}}</option>
          </select>
        </div>
      </div>

      <!-- Roster info -->
      <div class="col-sm-3" style="left: 0; position: absolute;">
        <h3 style="text-align: center">Team {{ selectedTeam }}'s Roster</h3>
        <select v-model="inputWeek" style="left: 50%;">
          <option v-for="n in 9" v-bind:value="n - 1">Week {{n}}</option>
        </select>
        <div v-for="player in players">
          <div v-if="player.ffteam ===  selectedTeam">
            <div style="border-style: solid">
              <h4 style="text-align: center;">{{player.lcsteam}} {{ player.name }}</h4>
              <h5 style="text-align: center;" v-if="player.role === 'Jungler'">{{player.role}}</h5>
              <h5 style="text-align: center;" v-else>{{player.role}} laner</h5>
              <div class="row" style="margin: 2%">
                <span class="col-sm-6" >
                  Day 1 <br>
                  KDA: {{ player.stats.kills[inputWeek*2] }}/{{ player.stats.deaths[inputWeek*2] }}/{{ player.stats.assists[inputWeek*2] }}<br>
                  CS: {{ player.stats.cs[inputWeek*2] }}<br>
                  Gold: {{ player.stats.gold[inputWeek*2] }}k<br>
                </span>
                <span class="col-sm-6">
                  Day 2 <br>
                  KDA: {{ player.stats.kills[inputWeek*2 + 1] }}/{{ player.stats.deaths[inputWeek*2 +1] }}/{{ player.stats.assists[inputWeek*2 +1] }}<br>
                  CS: {{ player.stats.cs[inputWeek*2 + 1] }}<br>
                  Gold: {{ player.stats.gold[inputWeek*2 +1] }}k<br>
                </span>
              </div>

            </div>
          </div>
        </div>
      </div>
      <!-- Standings -->
      <div class="col-sm-3">
        <h2></h2>
      </div>

      <!-- Available Players -->
      <div class="col-sm-4" style="right: 0; position: absolute;">
        <h2>Available Players</h2>

        <select v-model="inputRole">
          <option>All</option>
          <option>Top</option>
          <option>Jungler</option>
          <option>Mid</option>
          <option>Bot</option>
          <option>Sup</option>
        </select>

        <div v-for="player in players" >

          <div v-if="inputRole === player.role || inputRole === 'All'" >
            <span v-show="!player.ffteam">
              <div style="border-style:solid">
                <h4 style="text-align: center;">{{player.lcsteam}} {{ player.name }}</h4>
                <h5 style="text-align: center;" v-if="player.role === 'Jungler' || player.role === 'Coach' || player.role === 'Support'">{{player.role}}</h5>
                <h5 style="text-align: center;" v-else>{{player.role}} laner</h5>
                <div class="row" style="margin: 2%">
                  <span class="col-sm-6" >
                    Day 1 <br>
                    KDA: {{ player.stats.kills[inputWeek*2] }}/{{ player.stats.deaths[inputWeek*2] }}/{{ player.stats.assists[inputWeek*2] }}<br>
                    CS: {{ player.stats.cs[inputWeek*2] }}<br>
                    Gold: {{ player.stats.gold[inputWeek*2] }}k<br>
                  </span>
                  <span class="col-sm-6">
                    Day 2 <br>
                    KDA: {{ player.stats.kills[inputWeek*2 + 1] }}/{{ player.stats.deaths[inputWeek*2 +1] }}/{{ player.stats.assists[inputWeek*2 +1] }}<br>
                    CS: {{ player.stats.cs[inputWeek*2 + 1] }}<br>
                    Gold: {{ player.stats.gold[inputWeek*2 +1] }}k<br>
                  </span>
                </div>
              </div>
            </span>

          </div>
          <!--<div v-else>
            <h4 style="text-align: center;">{{player.lcsteam}} {{ player.name }}</h4>
            <h5 style="text-align: center;" v-if="player.role === 'Jungler' || player.role === 'Coach' || player.role === 'Support'">{{player.role}}</h5>
            <h5 style="text-align: center;" v-else>{{player.role}} laner</h5>
            <div class="row" style="margin: 2%">
              <span class="col-sm-6" >
                Day 1 <br>
                KDA: {{ player.stats.kills[inputWeek*2] }}/{{ player.stats.deaths[inputWeek*2] }}/{{ player.stats.assists[inputWeek*2] }}<br>
                CS: {{ player.stats.cs[inputWeek*2] }}<br>
                Gold: {{ player.stats.gold[inputWeek*2] }}k<br>
              </span>
              <span class="col-sm-6">
                Day 2 <br>
                KDA: {{ player.stats.kills[inputWeek*2 + 1] }}/{{ player.stats.deaths[inputWeek*2 +1] }}/{{ player.stats.assists[inputWeek*2 +1] }}<br>
                CS: {{ player.stats.cs[inputWeek*2 + 1] }}<br>
                Gold: {{ player.stats.gold[inputWeek*2 +1] }}k<br>
              </span>
            </div>
          </div>-->

        </div>
      </div>
    </div>
    <!-- misc scripts -->
    <script src="https://unpkg.com/vue@2.4.2"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

    <!-- Vue.js app js -->
    <script>
      const app1 = new Vue ({
        el: '#app1',
        data: {
          players: [],
          ffteams: [],
          selectedTeam: 'Yagami',
          inputWeek : 0,
          inputRole: 'All'
        },
        beforeCreate: function () {
          fetch("/teams.json")//.then(res => res.text()).then(text=>console.log(text))
            .then(res => res.json())
            .then(json => {
              this.ffteams=json.ffteams;
            })
          fetch("/players.json")//.then(res => res.text()).then(text=>console.log(text))
            .then(r => r.json())
            .then(json => {
              this.players=json.players;
            })
        }
      })
      
    </script>

  </body>
</html>
