<!DOCTYPE html><html lang=en><head><style type=text/css>html {
        height: 100%;
        width: 100%;
        text-align: center;
        font-size: 1em;
        line-height: 1.6;
        font-weight: 400;
        overflow: auto;
      }
      body{
        display: inline-block;
        height: 100%;
        width: 100%;
      }
      .myheader{
        width: 100%;
        margin: 0 0 0 0;
        padding-bottom: 8px;
        padding-top: 8px;
        background: #5D2C72;
        
      }
      .headerText{
        font-family: 'Raleway', sans-serif;
        color: white;
        padding-bottom: 8px;
        font-size: 24px;

      }
      .mymaincontent{

        height: 100%;
        width: 100%;
        margin: 0 0 0 0;
      }
      .mycontainer{
        width: 100%;
        background: #e5e5e5;
        margin-top: 0;
        height: auto;
        min-height: 50px;
        border-bottom: 1px solid #5e5e5e;

      }
      .mycontainer h3{
        padding-top: 10px;
      }
      .mycontent{
        margin: 0 0 0 0; 
        height: 100%; 
        text-align: left
      }
      .mycol{
        width: 33%;
        display: inline-block;
        height: 100%;
        padding-left: 0;
        padding-right: 0;
      }
      .SinglePlayerDetails{
        width: 100%;
        background: white;
        padding-top: 15px;
        padding-bottom: 5px;
        margin-bottom: 5px;
        vertical-align: top;
        border-bottom: double;
        text-align:left;
        line-height: 2.0;
        height: auto;
        display: inline-block;
      }
      .PlayerDesc{
        max-width: 35%;
        padding-left: 10px;
        font-weight: 600;
        font-size: 1em;
        float: left;
        width: 40%;       
      }
      .PlayerRole{
        font-weight: 400;
        font-size: 12px;
      }
      .PlayerData{
        margin-right: 20px;
        min-width: 60%;
        float:right;
      }
      .PlayerData * {
        text-align: center;
        display: inline;
      }
      .ColumnLabel{
        text-align: left;
        font-size: 10px;
        line-height: 10px;
        color: black;
        font-weight: normal;
        height: 10px;
      }
      .SingleCol{
        min-width:80px;
        white-space: nowrap;
      }
      .SingleCol*{
        text-align:center;
      }</style><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css><title>my-fantasy</title><script>function getScores(){
        if (app1.ffteams.length > 0){
          for (var i=0; i<app1.ffteams.length; i++){
            var tim = app1.ffteams[i]
            var tim_score_card = []
            for(k=0; k < 10; k++){
              var score=0
              for (var j=0; j<app1.players.length; j++){
                var pim = app1.players[j]
                if (pim.ffteam == tim.team_name){
                  score+=Number(pim.score[k])
                }
              }
              tim_score_card.push(score.toFixed(2))
            }
            tim.stats.record = tim_score_card
          }
        }
      }</script><script>function setScores(){
        if (app1.players.length > 0) {
          var t_scores = []
          for (var j=0; j < app1.players.length; j++){
            var symbol = app1.players[j]
            var score_card = [];
            for (i = 0; i < 10; i++) {
              var k1, k2, d1, d2, a1, a2, cs1, cs2, gold1, gold2, score = null;
              var day1 = (i * 2)
              var day2 = (i * 2) + 1
              k1 = Number(symbol.stats.kills[day1])
              k2 = Number(symbol.stats.kills[day2])
              d1 = Number(symbol.stats.deaths[day1])
              d2 = Number(symbol.stats.deaths[day2])
              a1 = Number(symbol.stats.assists[day1])
              a2 = Number(symbol.stats.assists[day2])
              cs1 = Number(symbol.stats.cs[day1])
              cs2 = Number(symbol.stats.cs[day2])
              gold1 = Number(symbol.stats.gold[day1])
              gold2 = Number(symbol.stats.gold[day2])
              if (symbol.role == 'Support') {
                a1 += a1;
                a2 += a2;
                cs1 = 0;
                cs2 = 0;
              }
              score = (k1 + k2) - (d1 + d2) + 0.5 * (a1 + a2) + 0.01 * (cs1 + cs2) + 0.1 * (gold1 + gold2)
              score_card.push(score.toFixed(2))
            }
            symbol.score = score_card
          }
        }  
      }</script></head><body style="height:100%; width: 100%; display: inline; background: white;"><noscript><strong>We're sorry but my-fantasy doesn't work properly without JavaScript enabled. Please enable it to continue.</strong></noscript><div id=app1 style="height: 100%; width: 100%; position: relative;"><div class=myheader><div class=headerText>Who are you?</div><select v-model=selectedTeam id=teamSelector><option style=display:none disabled selected>select a team</option><option v-for="team in ffteams" v-bind:value=team.team_name>{{team.name}}</option></select></div><div class=mymaincontent v-show=selectedTeam><div class=mycol style="float: left;"><div class=mycontainer><h3>{{ selectedTeam }}</h3><select v-model=inputWeek style="margin: auto auto; display: block;"><option v-for="n in 9" v-bind:value="n - 1">Week {{n}}</option></select></div><div v-for="player in players"><div v-show="player.ffteam ===  selectedTeam"><div class=SinglePlayerDetails><div class=PlayerDesc>{{player.lcsteam}} {{ player.name }}<div class=PlayerRole><p v-if="player.role === 'Jungler' || player.role === 'Coach' || player.role === 'Support'">{{player.role}}</p><p v-else>{{player.role}} Lane</p></div></div><div class=PlayerData><div class=SingleCol><div class=ColumnLabel>KDA </div>{{ player.stats.kills[inputWeek*2] }}/{{ player.stats.deaths[inputWeek*2] }}/{{ player.stats.assists[inputWeek*2] }}</div><div class=SingleCol><div class=ColumnLabel>CS </div>{{ player.stats.cs[inputWeek*2] }}</div><div class=SingleCol><div class=ColumnLabel>Gold </div>{{ player.stats.gold[inputWeek*2] }}k</div></div><div class=PlayerData><div class=SingleCol><div class=ColumnLabel>KDA </div>{{ player.stats.kills[inputWeek*2 + 1] }}/{{ player.stats.deaths[inputWeek*2 + 1] }}/{{ player.stats.assists[inputWeek*2 + 1] }}</div><div class=SingleCol><div class=ColumnLabel>CS </div>{{ player.stats.cs[inputWeek*2 + 1] }}</div><div class=SingleCol><div class=ColumnLabel>Gold </div>{{ player.stats.gold[inputWeek*2 + 1] }}k</div></div><div class=PlayerData><div class=SingleCol style="text-align: right; float: right"><div class=ColumnLabel>Score </div>{{ player.score[inputWeek] }}</div></div></div></div></div></div><div class=mycol><div class=mycontainer><h3>Standings:</h3></div><div class=mycontent><div v-for="team in ffteams"><div class=SinglePlayerDetails><div class=PlayerDesc>{{team.team_name}}<div class=PlayerRole><p>{{team.name}}</p></div></div><div class=PlayerData><div class=SingleCol style="float: right; text-align: left;"><div class=ColumnLabel>Score </div>{{ team.stats.record[inputWeek] }}</div></div></div></div></div></div><div class=mycol style="clear: right; float: right"><div class=mycontainer><h3>Available Players</h3><select v-model=inputRole style="margin: auto auto; display: block"><option>All</option><option>Top</option><option>Jungler</option><option>Mid</option><option>Bot</option><option>Sup</option></select></div><div v-for="player in players"><div v-if="inputRole === player.role || inputRole === 'All'"><div v-if="player.ffteam ==='no one'" class=SinglePlayerDetails><div class=PlayerDesc>{{player.lcsteam}} {{ player.name }}<div class=PlayerRole><p v-if="player.role === 'Jungler' || player.role === 'Coach' || player.role === 'Support'">{{player.role}}</p><p v-else>{{player.role}} Lane</p></div></div><div class=PlayerData><div class=SingleCol><div class=ColumnLabel>KDA </div>{{ player.stats.kills[inputWeek*2] }}/{{ player.stats.deaths[inputWeek*2] }}/{{ player.stats.assists[inputWeek*2] }}</div><div class=SingleCol><div class=ColumnLabel>CS </div>{{ player.stats.cs[inputWeek*2] }}</div><div class=SingleCol><div class=ColumnLabel>Gold </div>{{ player.stats.gold[inputWeek*2] }}k</div></div><div class=PlayerData><div class=SingleCol><div class=ColumnLabel>KDA </div>{{ player.stats.kills[inputWeek*2 + 1] }}/{{ player.stats.deaths[inputWeek*2 + 1] }}/{{ player.stats.assists[inputWeek*2 + 1] }}</div><div class=SingleCol><div class=ColumnLabel>CS </div>{{ player.stats.cs[inputWeek*2 + 1] }}</div><div class=SingleCol><div class=ColumnLabel>Gold </div>{{ player.stats.gold[inputWeek*2 + 1] }}k</div></div><div class=PlayerData><div class=SingleCol style="float: right"><div class=ColumnLabel>Score </div>{{ player.score[inputWeek] }}</div></div></div></div></div></div></div></div><script src=https://unpkg.com/vue@2.4.2></script><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js></script><script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js></script><script src=https://cdn.jsdelivr.net/npm/lodash@4.17.11/lodash.min.js></script><script>var app1 = new Vue({
        el: '#app1',
        data: {
          players: [],
          ffteams: [],
          ff_scores: [],
          selectedTeam: null,
          inputWeek: 0,
          inputRole: 'All'
        },
        beforeCreate: function() {
          // Gets data from json files and stores above
          fetch("teams.json") 
            .then(res => res.json())
            .then(json => {
              this.ffteams = json.ffteams;
            })
          fetch("players.json") 
            .then(r => r.json())
            .then(json => {
              this.players = json.players;
            })
        },
      })</script><script>// Calculates scores after page is loaded
      function start(){
        document.getElementById("teamSelector").addEventListener("change", doStuff,)
      }
      function doStuff(){
        setScores();
        getScores();
      }
      window.addEventListener("load", start, false)</script></body></html>