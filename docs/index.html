<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css><title>my-fantasy</title><link href=Stylesheet.css rel=stylesheet type=text/css><script>function getScores(){
        if (app1.ffteams.length > 0){
          for (var i=0; i<app1.ffteams.length; i++){
            var tim = app1.ffteams[i]
            var tim_score_card = []
            for(k=0; k < 10; k++){
              var score=0
              for (var j=0; j<app1.players.length; j++){
                var pim = app1.players[j]
                if (pim.ffteam == tim.team_name){
                  score+=Number(pim.score[k])
                }
              }
              tim_score_card.push(score.toFixed(2))
            }
            tim.stats.record = tim_score_card
          }
        }
      }</script><script>function setScores(){
        if (app1.players.length > 0) {
          var t_scores = []
          for (var j=0; j < app1.players.length; j++){
            var symbol = app1.players[j]
            var score_card = [];
            for (i = 0; i < 10; i++) {
              var k, d, a, cs, g, score = null;
              var day1 = (i * 2)
              var day2 = (i * 2) + 1
              k = Number(symbol.stats.kills[day1]) + Number(symbol.stats.kills[day2])
              d = Number(symbol.stats.deaths[day1]) + Number(symbol.stats.deaths[day2])
              a = Number(symbol.stats.assists[day1]) + Number(symbol.stats.assists[day2])
              cs = Number(symbol.stats.cs[day1]) + Number(symbol.stats.cs[day2])
              g = Number(symbol.stats.gold[day1]) + Number(symbol.stats.gold[day2])
              score = k - 0.75*d + 0.5*a + 0.01*cs + 0.1*g
              score_card.push(score.toFixed(2))
            }
            symbol.score = score_card
          }
        }  
      }</script></head><body><noscript><strong>We're sorry but my-fantasy doesn't work properly without JavaScript enabled. Please enable it to continue.</strong></noscript><div id=app1><div class=myheader><div v-if=!selectedTeam><div class=headerText>Who are you?</div><select v-model=selectedTeam id=teamSelector style="margin-bottom: 8px"><option style=display:none disabled selected>select a team</option><option v-for="team in ffteams" v-bind:value=ffteams.indexOf(team)+1>{{team.name}}</option></select></div><div v-else><div class=headerText>{{ffteams[selectedTeam-1].team_name}}</div><div class=mytabs><a v-on:click="activeTab=1" v-bind:class="[activeTab === 1 ? 'active' : '' ]">Roster</a> <a v-on:click="activeTab=2" v-bind:class="[activeTab === 2 ? 'active' : '' ]">Standings</a> <a v-on:click="activeTab=3" v-bind:class="[activeTab === 3 ? 'active' : '' ]">Free Agency</a></div></div></div><div class=mymaincontent v-if=selectedTeam><div v-if="activeTab === 1" class=mycol><div class=weekTab><a v-on:click="inputWeek=0" v-bind:class="[inputWeek === 0 ? 'active' : '' ]">1</a> <a v-on:click="inputWeek=1" v-bind:class="[inputWeek === 1 ? 'active' : '' ]">2</a> <a v-on:click="inputWeek=2" v-bind:class="[inputWeek === 2 ? 'active' : '' ]">3</a> <a v-on:click="inputWeek=3" v-bind:class="[inputWeek === 3 ? 'active' : '' ]">4</a> <a v-on:click="inputWeek=4" v-bind:class="[inputWeek === 4 ? 'active' : '' ]">5</a> <a v-on:click="inputWeek=5" v-bind:class="[inputWeek === 5 ? 'active' : '' ]">6</a> <a v-on:click="inputWeek=6" v-bind:class="[inputWeek === 6 ? 'active' : '' ]">7</a> <a v-on:click="inputWeek=7" v-bind:class="[inputWeek === 7 ? 'active' : '' ]">8</a> <a v-on:click="inputWeek=8" v-bind:class="[inputWeek === 8 ? 'active' : '' ]">9</a></div><div v-for="player in players" v-if=ffteams[selectedTeam-1].stats.roster.includes(player.name)><div class=SinglePlayerDetails><div class=PlayerDesc>{{player.name}}<div class=PlayerRole><p v-if="player.role === 'Jungler' || player.role === 'Coach' || player.role === 'Support'">{{player.lcsteam}} {{player.role}}</p><p v-else>{{player.lcsteam}} {{player.role}} Lane</p></div></div><div class=PlayerStats><div class=PlayerData><div class=SingleCol><div class=ColumnLabel>Gold</div>{{ player.stats.gold[inputWeek*2] }}k</div><div class=SingleCol><div class=ColumnLabel>CS</div>{{ player.stats.cs[inputWeek*2] }}</div><div class=SingleCol><div class=ColumnLabel>KDA</div>{{ player.stats.kills[inputWeek*2] }}/{{ player.stats.deaths[inputWeek*2] }}/{{ player.stats.assists[inputWeek*2] }}</div></div><div class=PlayerData><div class=SingleCol><div class=ColumnLabel>Gold</div>{{ player.stats.gold[inputWeek*2 + 1] }}k</div><div class=SingleCol><div class=ColumnLabel>CS</div>{{ player.stats.cs[inputWeek*2 + 1] }}</div><div class=SingleCol><div class=ColumnLabel>KDA</div>{{ player.stats.kills[inputWeek*2 + 1] }}/{{ player.stats.deaths[inputWeek*2 + 1] }}/{{ player.stats.assists[inputWeek*2 + 1] }}</div></div><div class=PlayerData><div class=SingleCol><div class=ColumnLabel>Score</div><b>{{ player.score[inputWeek] }}</b></div></div></div></div></div></div><div v-if="activeTab === 2" class=mycol><div class=weekTab><a v-on:click="inputWeek=0" v-bind:class="[inputWeek === 0 ? 'active' : '' ]">1</a> <a v-on:click="inputWeek=1" v-bind:class="[inputWeek === 1 ? 'active' : '' ]">2</a> <a v-on:click="inputWeek=2" v-bind:class="[inputWeek === 2 ? 'active' : '' ]">3</a> <a v-on:click="inputWeek=3" v-bind:class="[inputWeek === 3 ? 'active' : '' ]">4</a> <a v-on:click="inputWeek=4" v-bind:class="[inputWeek === 4 ? 'active' : '' ]">5</a> <a v-on:click="inputWeek=5" v-bind:class="[inputWeek === 5 ? 'active' : '' ]">6</a> <a v-on:click="inputWeek=6" v-bind:class="[inputWeek === 6 ? 'active' : '' ]">7</a> <a v-on:click="inputWeek=7" v-bind:class="[inputWeek === 7 ? 'active' : '' ]">8</a> <a v-on:click="inputWeek=8" v-bind:class="[inputWeek === 8 ? 'active' : '' ]">9</a></div><div class=mycontent><div v-for="team in sortedTeams"><div class=SinglePlayerDetails><div class=PlayerDesc style="vertical-align: top; padding-left: 20%;width: 50%">{{team.team_name}}<div class=PlayerRole><p>{{team.name}}</p></div></div><div class=PlayerStats style="width: 50%"><div class=PlayerData style="padding-right: 30%;"><div class=SingleCol><div class=ColumnLabel>Score</div><b>{{ team.stats.record[inputWeek] }}</b></div></div></div></div></div></div></div><div v-if="activeTab === 3" class=mycol><div class=weekTab><a v-on:click="inputWeek=0" v-bind:class="[inputWeek === 0 ? 'active' : '' ]">1</a> <a v-on:click="inputWeek=1" v-bind:class="[inputWeek === 1 ? 'active' : '' ]">2</a> <a v-on:click="inputWeek=2" v-bind:class="[inputWeek === 2 ? 'active' : '' ]">3</a> <a v-on:click="inputWeek=3" v-bind:class="[inputWeek === 3 ? 'active' : '' ]">4</a> <a v-on:click="inputWeek=4" v-bind:class="[inputWeek === 4 ? 'active' : '' ]">5</a> <a v-on:click="inputWeek=5" v-bind:class="[inputWeek === 5 ? 'active' : '' ]">6</a> <a v-on:click="inputWeek=6" v-bind:class="[inputWeek === 6 ? 'active' : '' ]">7</a> <a v-on:click="inputWeek=7" v-bind:class="[inputWeek === 7 ? 'active' : '' ]">8</a> <a v-on:click="inputWeek=8" v-bind:class="[inputWeek === 8 ? 'active' : '' ]">9</a></div><div class=mycontainer style=position:relative><div class=positionTab><a v-on:click="inputRole='All'" v-bind:class="[inputRole === 'All' ? 'active' : '']">All</a> <a v-on:click="inputRole='Top'" v-bind:class="[inputRole === 'Top' ? 'active' : '']">Top</a> <a v-on:click="inputRole='Jungler'" v-bind:class="[inputRole === 'Jungler' ? 'active' : '']">Jungler</a> <a v-on:click="inputRole='Mid'" v-bind:class="[inputRole === 'Mid' ? 'active' : '']">Mid</a> <a v-on:click="inputRole='Bot'" v-bind:class="[inputRole === 'Bot' ? 'active' : '']">Bot</a> <a v-on:click="inputRole='Support'" v-bind:class="[inputRole === 'Support' ? 'active' : '']">Support</a></div></div><div v-for="player in players" v-if="inputRole === player.role || inputRole === 'All'"><div v-if="player.ffteam ==='no one'" class=SinglePlayerDetails><div class=PlayerDesc>{{player.lcsteam}} {{ player.name }}<div class=PlayerRole><p v-if="player.role === 'Jungler' || player.role === 'Coach' || player.role === 'Support'">{{player.role}}</p><p v-else>{{player.role}} Lane</p></div></div><div class=PlayerStats><div class=PlayerData><div class=SingleCol><div class=ColumnLabel>Gold</div>{{ player.stats.gold[inputWeek*2] }}k</div><div class=SingleCol><div class=ColumnLabel>CS</div>{{ player.stats.cs[inputWeek*2] }}</div><div class=SingleCol><div class=ColumnLabel>KDA</div>{{ player.stats.kills[inputWeek*2] }}/{{ player.stats.deaths[inputWeek*2] }}/{{ player.stats.assists[inputWeek*2] }}</div></div><div class=PlayerData><div class=SingleCol><div class=ColumnLabel>Gold</div>{{ player.stats.gold[inputWeek*2 + 1] }}k</div><div class=SingleCol><div class=ColumnLabel>CS</div>{{ player.stats.cs[inputWeek*2 + 1] }}</div><div class=SingleCol><div class=ColumnLabel>KDA</div>{{ player.stats.kills[inputWeek*2 + 1] }}/{{ player.stats.deaths[inputWeek*2 + 1] }}/{{ player.stats.assists[inputWeek*2 + 1] }}</div></div><div class=PlayerData><div class=SingleCol><div class=ColumnLabel>Score</div><b>{{ player.score[inputWeek] }}</b></div></div></div></div></div></div></div></div><script src=https://unpkg.com/vue@2.4.2></script><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js></script><script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js></script><script>var app1 = new Vue({
        el: '#app1',
        data: {
          players: [],
          ffteams: [],
          ff_scores: [],
          selectedTeam: null,
          activeTab: 1,
          inputWeek: 0,
          inputRole: 'All'
        },
        computed: {
          sortedTeams: function() {
            function compare(a,b){
              console.log(a.team_name + ' ' + a.stats.record[app1.inputWeek])
              console.log(b.team_name + ' ' + b.stats.record[app1.inputWeek])

              if (parseFloat(a.stats.record[app1.inputWeek]) > parseFloat(b.stats.record[app1.inputWeek])){
                return -1;
              }
              if (parseFloat(a.stats.record[app1.inputWeek]) < parseFloat(b.stats.record[app1.inputWeek])){
                return 1;
              }

            }
            return this.ffteams.sort(compare)
          }
        },
        beforeCreate: function() {
          // Gets data from json files and stores above
          fetch("teams.json") 
            .then(res => res.json())
            .then(json => {
              this.ffteams = json.ffteams;
            })
          fetch("players.json") 
            .then(r => r.json())
            .then(json => {
              this.players = json.players;
            })
        },
      })</script><script>// Calculates scores after page is loaded
      function start(){
        document.getElementById("teamSelector").addEventListener("change", doStuff,)
      }
      function doStuff(){
        setScores();
        getScores();
      }
      window.addEventListener("load", start, false)</script></body></html>