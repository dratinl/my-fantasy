<!DOCTYPE html><html lang=en><head><style type=text/css>html,body {
        height: 100%;
        width: 100%;
        overflow: auto;
        text-align: center;

        font-size: 1.2em;
        line-height: 1.6;
        font-weight: 400;
      }
      div{
        display: block;
        box-sizing: border-box;
      }
      .col-sm-3{
        padding-bottom: 10%;
        height: 100%;
        width: 33%;
        float: none;
      }
      .SinglePlayerDetails{
        padding-top: 10px;
        padding-bottom: 5px;
        margin-bottom: 5px;
        vertical-align: top;
        border-bottom: 1px solid #e8e8e8;
        text-align:left;
        line-height: auto;
        display: inline-block;
      }
      .PlayerDesc{
        float: left;
        width: 33%;       
      }
      .PlayerRole{
        font-size: 12px;
      }
      .PlayerData{
        text-align:left;
        min-width: 50%;
        float:right;
        width: auto;
        margin: 2px 10px 0;
      }
      .PlayerData * {
        display: inline;
      }
      .ColumnLabel{
        font-size: 10px;
        line-height: 10px;
        color: #666666;
        font-weight: normal;
        height: 10px;
      }
      .SingleCol{
        text-align: left;
        width:40px;
        white-space: nowrap;
      }</style><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css><title>my-fantasy</title><script>function getScores(){
        if (app1.ffteams.length > 0){
          for (var i=0; i<app1.ffteams.length; i++){
            var tim = app1.ffteams[i]
            var tim_score_card = []
            for(k=0; k < 10; k++){
              var score=0
              for (var j=0; j<app1.players.length; j++){
                var pim = app1.players[j]
                if (pim.ffteam == tim.team_name){
                  score+=Number(pim.score[k])
                }
              }
              tim_score_card.push(score.toFixed(2))
            }
            tim.stats.record = tim_score_card
          }
        }
      }</script><script>function setScores(){
        if (app1.players.length > 0) {
          var t_scores = []
          for (var j=0; j < app1.players.length; j++){
            var symbol = app1.players[j]
            var score_card = [];
            for (i = 0; i < 10; i++) {
              var k1, k2, d1, d2, a1, a2, cs1, cs2, gold1, gold2, score = null;
              var day1 = (i * 2)
              var day2 = (i * 2) + 1
              k1 = Number(symbol.stats.kills[day1])
              k2 = Number(symbol.stats.kills[day2])
              d1 = Number(symbol.stats.deaths[day1])
              d2 = Number(symbol.stats.deaths[day2])
              a1 = Number(symbol.stats.assists[day1])
              a2 = Number(symbol.stats.assists[day2])
              cs1 = Number(symbol.stats.cs[day1])
              cs2 = Number(symbol.stats.cs[day2])
              gold1 = Number(symbol.stats.gold[day1])
              gold2 = Number(symbol.stats.gold[day2])
              if (symbol.role == 'Support') {
                a1 += a1;
                a2 += a2;
                cs1 = 0;
                cs2 = 0;
              }
              score = (k1 + k2) - (d1 + d2) + 0.5 * (a1 + a2) + 0.01 * (cs1 + cs2) + 0.1 * (gold1 + gold2)
              score_card.push(score.toFixed(2))
            }
            symbol.score = score_card
          }
        }  
      }</script></head><body><noscript><strong>We're sorry but my-fantasy doesn't work properly without JavaScript enabled. Please enable it to continue.</strong></noscript><div id=app1 style="height: 100%; width: 100%"><div class=container style="width: 100%; margins: auto auto;"><h1>Who are you?</h1><select v-model=selectedTeam style="margins: auto auto" id=teamSelector><option style=display:none disabled selected>select a team</option><option v-for="team in ffteams" v-bind:value=team.team_name>{{team.name}}</option></select></div><div class=container style="width: 100%; height: 100%; padding-top: 5%" v-show=selectedTeam><div class="col-xs-6 col-sm-3 col-md-4" style="width:30%; clear: left;"><div class=container style="width: 100%; border-bottom: 3px solid #e8e8e8"><h3>Team {{ selectedTeam }}</h3><select v-model=inputWeek style="margin: auto auto; display: block;"><option v-for="n in 9" v-bind:value="n - 1">Week {{n}}</option></select></div><div v-for="player in players"><div v-show="player.ffteam ===  selectedTeam" style="border-bottom: 1px solid #e8e8e8;"><div class=SinglePlayerDetails><div class=PlayerDesc>{{player.lcsteam}} {{ player.name }}<div class=PlayerRole><p v-if="player.role === 'Jungler' || player.role === 'Coach' || player.role === 'Support'">{{player.role}}</p><p v-else>{{player.role}} Lane</p></div></div><div class=PlayerData><div class=SingleCol><div class=ColumnLabel>KDA</div>{{ player.stats.kills[inputWeek*2] }}/{{ player.stats.deaths[inputWeek*2] }}/{{ player.stats.assists[inputWeek*2] }}</div><div class=SingleCol><div class=ColumnLabel>CS</div>{{ player.stats.cs[inputWeek*2] }}</div><div class=SingleCol><div class=ColumnLabel>Gold</div>{{ player.stats.gold[inputWeek*2] }}k</div></div><div class=PlayerData><div class=SingleCol><div class=ColumnLabel>KDA</div>{{ player.stats.kills[inputWeek*2 + 1] }}/{{ player.stats.deaths[inputWeek*2 + 1] }}/{{ player.stats.assists[inputWeek*2 + 1] }}</div><div class=SingleCol><div class=ColumnLabel>CS</div>{{ player.stats.cs[inputWeek*2 + 1] }}</div><div class=SingleCol><div class=ColumnLabel>Gold</div>{{ player.stats.gold[inputWeek*2 + 1] }}k</div></div><div class=PlayerData><div class=SingleCol><div class=ColumnLabel>Score</div>{{ player.score[inputWeek] }}</div></div></div></div></div></div><div class="col-xs-6 col-sm-3 col-md-4" style="width: 40%; border-style: solid;"><h3>Standings:</h3><div style="border=style: solid; text-align: left"><ul style="display: inline"><li style="margin : 20px" v-for="team in ffteams"><b>{{team.team_name}}</b> ({{team.name}}): <span style="float: right">{{team.stats.record[inputWeek]}}</span></li></ul></div></div><div class="col-xs-6 col-sm-3 col-md-4" style="width: 30%; float:right; clear: right;"><div class=container style="width: 100%; border-bottom: 3px solid #e8e8e8"><h3>Available Players</h3><select v-model=inputRole style="margin: auto auto; display: block"><option>All</option><option>Top</option><option>Jungler</option><option>Mid</option><option>Bot</option><option>Sup</option></select></div><div v-for="player in players"><div v-if="inputRole === player.role || inputRole === 'All'"><div v-show="player.ffteam === 'no one'" style="border-bottom: 1px solid #e8e8e8;"><div class=SinglePlayerDetails><div class=PlayerDesc>{{player.lcsteam}} {{ player.name }}<div class=PlayerRole><p v-if="player.role === 'Jungler' || player.role === 'Coach' || player.role === 'Support'">{{player.role}}</p><p v-else>{{player.role}} Lane</p></div></div><div class=PlayerData><div class=SingleCol><div class=ColumnLabel>KDA</div>{{ player.stats.kills[inputWeek*2] }}/{{ player.stats.deaths[inputWeek*2] }}/{{ player.stats.assists[inputWeek*2] }}</div><div class=SingleCol><div class=ColumnLabel>CS</div>{{ player.stats.cs[inputWeek*2] }}</div><div class=SingleCol><div class=ColumnLabel>Gold</div>{{ player.stats.gold[inputWeek*2] }}k</div></div><div class=PlayerData><div class=SingleCol><div class=ColumnLabel>KDA</div>{{ player.stats.kills[inputWeek*2 + 1] }}/{{ player.stats.deaths[inputWeek*2 + 1] }}/{{ player.stats.assists[inputWeek*2 + 1] }}</div><div class=SingleCol><div class=ColumnLabel>CS</div>{{ player.stats.cs[inputWeek*2 + 1] }}</div><div class=SingleCol><div class=ColumnLabel>Gold</div>{{ player.stats.gold[inputWeek*2 + 1] }}k</div></div><div class=PlayerData><div class=SingleCol><div class=ColumnLabel>Score</div>{{ player.score[inputWeek] }}</div></div></div></div></div></div></div></div></div><script src=https://unpkg.com/vue@2.4.2></script><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js></script><script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js></script><script src=https://cdn.jsdelivr.net/npm/lodash@4.17.11/lodash.min.js></script><script>var app1 = new Vue({
        el: '#app1',
        data: {
          players: [],
          ffteams: [],
          ff_scores: [],
          selectedTeam: null,
          inputWeek: 0,
          inputRole: 'All'
        },
        beforeCreate: function() {
          fetch("teams.json") //.then(res => res.text()).then(text=>console.log(text))
            .then(res => res.json())
            .then(json => {
              this.ffteams = json.ffteams;
            })
          fetch("players.json") //.then(res => res.text()).then(text=>console.log(text))
            .then(r => r.json())
            .then(json => {
              this.players = json.players;
            })
        },
      })</script><script>function start(){
        document.getElementById("teamSelector").addEventListener("change", doStuff,)
      }
      function doStuff(){
        setScores();
        getScores();
      }
      window.addEventListener("load", start, false)</script></body></html>